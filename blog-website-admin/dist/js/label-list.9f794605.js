(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["label-list"],{"4c61":function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ui-popup",{attrs:{title:"新增标签",width:"500px",isFooter:!0},on:{onSubmit:e.onSubmit,onCancel:e.onCancel}},[n("el-form",{ref:"form",attrs:{model:e.forms,"label-width":"80px"}},[n("el-form-item",{attrs:{label:"标签名",rules:[{required:!0,message:"标签名不能为空",trigger:"blur"}],prop:"label"}},[n("el-input",{staticStyle:{width:"260px"},model:{value:e.forms.label,callback:function(t){e.$set(e.forms,"label",t)},expression:"forms.label"}})],1)],1)],1)},i=[],s={props:{params:{type:Object,default:function(){return{}}}},data:function(){return{forms:{label:""},isEdit:!1}},created:function(){this.$overall.emptyObj(this.params)&&(this.isEdit=!0,this.forms={label:this.params.label,id:this.params.id})},methods:{onCancel:function(){this.reject()},onSubmit:function(){var e=this;this.$refs.form.validate((function(t){if(t){var n=e.isEdit?"updateLabel":"addLabel",r=e.isEdit?"修改成功":"添加成功";e.$api[n](e.forms).then((function(t){e.resolve(),e.$message.success(r)})).catch((function(e){}))}}))}}},a=s,l=n("9ca4"),o=Object(l["a"])(a,r,i,!1,null,null,null);t["a"]=o.exports},"5a08":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"views-label"},[n("div",[n("el-form",{attrs:{inline:""}},[n("el-form-item",{attrs:{label:"标签名称"}},[n("el-input",{staticStyle:{width:"260px"},attrs:{size:"medium",placeholder:"输入标签名称查询"},model:{value:e.forms.label,callback:function(t){e.$set(e.forms,"label",t)},expression:"forms.label"}})],1),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:e.onSearch}},[e._v("查询")])],1),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:e.onPopup}},[e._v("新增标签")])],1)],1)],1),n("blist",{attrs:{refresh:e.refresh,forms:e.forms},on:{change:e.refreshFn}})],1)},i=[],s=n("4c61"),a=n("bc82"),l={components:{blist:a["a"]},data:function(){return{forms:{label:""},dialogVisible:!1,label:"",refresh:!1}},methods:{onPopup:function(){var e=this;this.$popup(s["a"]).then((function(t){e.refresh=!e.refresh}))},onSearch:function(){this.refresh=!this.refresh},refreshFn:function(){this.refresh=!this.refresh}}},o=l,c=n("9ca4"),u=Object(c["a"])(o,r,i,!1,null,null,null);t["default"]=u.exports},bc82:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"components-label_list"},[n("b-table",{attrs:{columns:e.columns,action:"queryLabelList",hasPagination:"",forms:e.forms,refresh:e.refresh}})],1)},i=[],s=n("4c61"),a={props:{refresh:{type:Boolean,default:!1},forms:{type:Object,default:function(){return{}}}},data:function(){var e=this,t=this.$createElement;return{columns:[{label:"标签名称",prop:"label"},{label:"使用次数",prop:"use_num"},{label:"创建时间",prop:"create_time",render:function(n){return t("span",[e.$vueFilters.formatDatetime(n.row.create_time,"yyyy-MM-dd")])}},{label:"修改时间",prop:"update_time",render:function(e){return t("span",[e.row.update_time])}},{label:"操作",render:function(n){return t("div",[t("el-button",{attrs:{type:"text"},on:{click:e.setHot.bind(e,n.row)}},[1==n.row.hot?"取消热门":"设为热门"]),t("el-button",{attrs:{type:"text"},on:{click:e.editLabel.bind(e,n.row)}},["编辑"]),t("el-button",{attrs:{type:"text"},on:{click:e.deleteLabel.bind(e,n.row)}},["删除"])])}}]}},methods:{editLabel:function(e){var t=this;console.log(e),this.$popup(s["a"],e).then((function(e){t.$emit("change")}))},deleteLabel:function(e){var t=this;this.$confirm("确定删除该标签？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(n){t.$api.deleteLabel({id:e.id}).then((function(e){t.$message.success("删除成功"),t.$emit("change")}))}))},setHot:function(e){var t=this,n={id:e.id,hot:1==e.hot?"0":"1"};this.$api.updateHotLabel(n).then((function(e){t.$message.success("设置成功"),t.$emit("change")})).catch((function(e){}))}}},l=a,o=(n("dc46"),n("9ca4")),c=Object(o["a"])(l,r,i,!1,null,null,null);t["a"]=c.exports},bd9d:function(e,t,n){},dc46:function(e,t,n){"use strict";var r=n("bd9d"),i=n.n(r);i.a}}]);
//# sourceMappingURL=label-list.9f794605.js.map