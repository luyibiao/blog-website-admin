(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["about-mine"],{"2eeb":function(t,e,i){"use strict";var a=i("1c8b"),o=i("5dfd").map,n=i("1ea7"),s=i("ff9c"),r=n("map"),l=s("map");a({target:"Array",proto:!0,forced:!r||!l},{map:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},"31f3":function(t,e,i){},3617:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"session-about-mine"},[i("el-form",{ref:"ruleform",attrs:{model:t.forms,"label-width":"80px"}},[i("el-form-item",{attrs:{label:"头像"}},[i("b-upload",{attrs:{fileList:t.fileList},on:{"on-success":t.uploadSuccess,"on-remove":t.uploadRemove}})],1),i("el-form-item",{attrs:{label:"个人说明"}},[i("el-input",{staticStyle:{width:"320px"},attrs:{clearable:"",type:"textarea",autosize:{minRows:5,maxRows:6},maxlength:200,"show-word-limit":""},model:{value:t.forms.description,callback:function(e){t.$set(t.forms,"description",e)},expression:"forms.description"}})],1),i("el-form-item",{attrs:{label:"个人简介",prop:"profile",rules:[{required:!0,message:"个人简介不能为空",trigger:"blur"}]}},[i("el-input",{staticStyle:{width:"320px"},attrs:{clearable:"",type:"textarea",autosize:{minRows:5,maxRows:6},maxlength:600,"show-word-limit":""},model:{value:t.forms.profile,callback:function(e){t.$set(t.forms,"profile",e)},expression:"forms.profile"}})],1)],1),i("div",{staticClass:"mine-quill"},[i("b-quill",{model:{value:t.forms.content,callback:function(e){t.$set(t.forms,"content",e)},expression:"forms.content"}}),i("div",{staticClass:"mine-btn"},[i("el-button",{on:{click:t.cancel}},[t._v("取消")]),i("el-button",{attrs:{type:"primary"},on:{click:t.save}},[t._v("确定")])],1)],1)],1)},o=[],n=(i("2eeb"),i("fe8a"),i("e793")),s={data:function(){return{forms:{description:"",profile:"",content:"",logoPath:"",logonName:"",avatar:""},fileList:[],loading:!1,id:""}},created:function(){this.getDetail()},methods:{init:function(t){var e=this;this.id&&(Object.keys(this.forms).map((function(i){t.hasOwnProperty(i)&&(e.forms[i]=t[i]||"")})),t.avatar&&this.fileList.push({url:t.avatar}))},getDetail:function(){var t=this;this.loading=!0,this.$api.queryMine().then((function(e){t.loading=!1,t.id=e.id||"",t.init(e)})).catch((function(e){t.loading=!1}))},uploadSuccess:function(t){this.forms.logoPath=t.path,this.forms.logonName=t.fName},uploadRemove:function(){this.forms.avatar=""},cancel:function(){this.$router.go(-1)},save:function(){var t=this;this.$refs.ruleform.validate((function(e){if(e){t.loading=!0;var i=t.id?"updateMine":"addMine",a=Object(n["a"])({},t.forms);t.id&&(a.id=t.id),t.$api[i](a).then((function(e){t.loading=!1,t.$message.success("修改成功")})).catch((function(e){t.loading=!1}))}}))}}},r=s,l=(i("3cf4"),i("9ca4")),c=Object(l["a"])(r,a,o,!1,null,null,null);e["default"]=c.exports},"3cf4":function(t,e,i){"use strict";var a=i("31f3"),o=i.n(a);o.a}}]);
//# sourceMappingURL=about-mine.95447377.js.map